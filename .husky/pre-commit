#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

echo 'ğŸ” Running pre-commit checks...'
echo ''

# Check TypeScript for errors
echo 'â–¶ï¸  Checking for TypeScript errors...'
npx tsc --noEmit --pretty false
if [ $? -ne 0 ]; then
  echo ''
  echo 'âŒ TypeScript errors found. Please fix before committing.'
  echo ''
  exit 1
fi
echo 'âœ… TypeScript check passed'
echo ''

# Run ESLint
echo 'â–¶ï¸  Running ESLint...'
npx eslint . --ext .ts,.tsx --max-warnings=0
if [ $? -ne 0 ]; then
  echo ''
  echo 'âŒ ESLint errors found. Please fix before committing.'
  echo ''
  exit 1
fi
echo 'âœ… ESLint check passed'
echo ''
echo 'ğŸ‰ All checks passed! Ready to commit.'
