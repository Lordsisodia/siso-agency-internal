# Story 1.6: Fix Import Paths and Integration

**Epic**: 1 - Architecture Migration - Component Unification  
**Story**: 1.6  
**Priority**: CRITICAL - Enables All Features  
**Complexity**: Medium  
**Dependencies**: Story 1.1 must be completed first

## Status
Draft

## Story
**As a** user,  
**I want** all LifeLock tabs to work correctly with proper component imports from the unified `/sections/` location,  
**so that** I can navigate between all productivity features without broken imports or crashes.

## Acceptance Criteria
1. Update `admin-lifelock-tabs.ts` import paths to use `/lifelock/sections/` instead of `/ai-first/features/tasks/components/`
2. Fix `AdminLifeLock.tsx` component imports to reference unified section components  
3. Update any other files referencing migrated components
4. Test that all navigation tabs work correctly without console errors
5. Verify no broken imports remain in the entire codebase
6. Ensure smooth navigation between all LifeLock features (<200ms transitions)

## Tasks / Subtasks

- [ ] **Fix admin-lifelock-tabs.ts Import Paths** (AC: 1)
  - [ ] Replace all `/ai-first/features/tasks/components/` imports with `/lifelock/sections/` 
  - [ ] Update DeepFocusWorkSection import to point to newly created component from Story 1.1
  - [ ] Create placeholder imports for components not yet migrated (Stories 1.2-1.5)
  - [ ] Test that tab configuration loads without import errors
  - [ ] Verify all tab component mappings are correct

- [ ] **Update AdminLifeLock.tsx Component References** (AC: 2)
  - [ ] Review current component imports in AdminLifeLock.tsx
  - [ ] Update any direct component imports to use unified sections
  - [ ] Ensure SafeTabContentRenderer works with updated import paths
  - [ ] Test component rendering in main LifeLock interface

- [ ] **Global Import Path Updates** (AC: 3)
  - [ ] Search entire codebase for references to migrated components
  - [ ] Update import paths in any other files that import LifeLock components
  - [ ] Check for dynamic imports or lazy-loaded component references
  - [ ] Update any test files that import these components

- [ ] **Integration Testing** (AC: 4, 5, 6)
  - [ ] Test navigation to all LifeLock tabs (morning, work, light-work, wellness, timebox, checkout)
  - [ ] Verify no console errors during tab switching  
  - [ ] Test that existing components (MorningRoutine, Timebox) still work correctly
  - [ ] Verify new DeepFocusWorkSection loads and functions
  - [ ] Measure navigation transition times (<200ms requirement)
  - [ ] Test error boundaries and fallback states

- [ ] **Codebase Cleanup Verification** (AC: 5)
  - [ ] Run TypeScript compilation to catch any import errors
  - [ ] Use IDE "Find References" to verify no broken imports remain
  - [ ] Run build process to ensure no runtime import failures
  - [ ] Update any documentation referencing old import paths

## Dev Notes

### Previous Story Context
**Dependencies**: This story requires Story 1.1 (DeepFocusWorkSection) to be completed first, as it updates import paths to reference the newly created component.

### Critical Import Path Mappings
**Source: [admin-lifelock-tabs.ts analysis and Story 1.1 specifications]**

```typescript
// CURRENT (BROKEN) IMPORTS IN admin-lifelock-tabs.ts:
import { DeepFocusWorkSection } from '@/ai-first/features/tasks/components/DeepFocusWorkSection-v2'; // ❌ DOESN'T EXIST
import { LightFocusWorkSection } from '@/ai-first/features/tasks/components/LightFocusWorkSection-v2';
import { NightlyCheckoutSection } from '@/ai-first/features/tasks/components/NightlyCheckoutSection';
import { HomeWorkoutSection } from '@/ai-first/features/tasks/components/HomeWorkoutSection';
import { HealthNonNegotiablesSection } from '@/ai-first/features/tasks/components/HealthNonNegotiablesSection';
import { TimeboxSection } from '@/ai-first/features/tasks/components/TimeboxSection';

// UPDATED (CORRECT) IMPORTS:
import { DeepFocusWorkSection } from './sections/DeepFocusWorkSection'; // ✅ FROM STORY 1.1
import { MorningRoutineSection } from './sections/MorningRoutineSection'; // ✅ ALREADY EXISTS
import { LightFocusWorkSection } from './sections/LightFocusWorkSection'; // 🚧 PLACEHOLDER - FROM STORY 1.2
import { NightlyCheckoutSection } from './sections/NightlyCheckoutSection'; // 🚧 PLACEHOLDER - FROM STORY 1.3  
import { HomeWorkoutSection } from './sections/HomeWorkoutSection'; // 🚧 PLACEHOLDER - FROM STORY 1.4
import { HealthNonNegotiablesSection } from './sections/HealthNonNegotiablesSection'; // 🚧 PLACEHOLDER - FROM STORY 1.4
import { TimeboxSection } from './sections/TimeboxSection'; // 🚧 PLACEHOLDER - FROM STORY 1.5
```

### Component Architecture Integration
**Source: [docs/siso-lifelock-completion-architecture.md#component-architecture]**

The unified sections directory structure:
```
/src/ecosystem/internal/lifelock/sections/
├── MorningRoutineSection.tsx ✅ (EXISTS - Reference Implementation)
├── DeepFocusWorkSection.tsx ✅ (FROM STORY 1.1)  
├── LightFocusWorkSection.tsx 🚧 (PLACEHOLDER - Story 1.2)
├── NightlyCheckoutSection.tsx 🚧 (PLACEHOLDER - Story 1.3)
├── HomeWorkoutSection.tsx 🚧 (PLACEHOLDER - Story 1.4)
├── HealthNonNegotiablesSection.tsx 🚧 (PLACEHOLDER - Story 1.4)
└── TimeboxSection.tsx 🚧 (PLACEHOLDER - Story 1.5)
```

### File Locations to Update
**Source: [Code analysis and architecture documentation]**

**Primary Files**:
- `/src/ecosystem/internal/lifelock/admin-lifelock-tabs.ts` - Main tab configuration (CRITICAL)
- `/src/ecosystem/internal/lifelock/AdminLifeLock.tsx` - Main LifeLock component

**Search Locations for Additional References**:
- `/src/ecosystem/internal/lifelock/` - Check all files in LifeLock directory
- `/src/ai-first/features/` - Check for cross-references
- `/src/shared/` - Check shared components that might import these
- Test files in `__tests__` directories

### Placeholder Component Strategy
**Implementation Note**: For components not yet migrated (Stories 1.2-1.5), create simple placeholder exports that re-export from the old locations temporarily:

```typescript
// Example: src/ecosystem/internal/lifelock/sections/LightFocusWorkSection.tsx (TEMPORARY)
// TODO: Replace with proper implementation in Story 1.2
export { LightFocusWorkSection } from '@/ai-first/features/tasks/components/LightFocusWorkSection-v2';
```

This allows import paths to be updated without breaking functionality.

### Testing Requirements
**Source: [docs/siso-lifelock-completion-architecture.md#testing-strategy]**

- **Manual Testing**: Click through all LifeLock tabs to verify functionality
- **Console Monitoring**: No import errors or warnings during navigation  
- **Performance Testing**: Transition times <200ms between tabs
- **Build Verification**: TypeScript compilation with zero errors
- **Integration Testing**: All existing features continue to work

### Technical Constraints
**Source: [Architecture analysis]**

- **Backward Compatibility**: Existing user sessions must not break
- **Performance**: No degradation in load times or navigation speed
- **Type Safety**: All imports must maintain proper TypeScript types
- **Error Handling**: Graceful fallbacks if placeholder components fail

## Testing

### Testing Standards
**Location**: Integration tests in `/src/ecosystem/internal/lifelock/__tests__/`  
**Frameworks**: Manual navigation testing + automated TypeScript checks
**Patterns**: 
- Test each tab loads without errors
- Verify component imports resolve correctly  
- Check transition performance benchmarks
**Requirements**:
- Zero console errors during full LifeLock navigation
- All tabs accessible and functional
- TypeScript compilation success

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-12 | 1.0 | Initial story creation - High priority for Story 1.1 integration | BMAD SM (Bob) |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

### Agent Model Used
*To be filled by dev agent*

### Debug Log References
*To be filled by dev agent*

### Completion Notes List
*To be filled by dev agent*

### File List  
*To be filled by dev agent*

## QA Results
*Results from QA Agent review will be populated here after implementation*