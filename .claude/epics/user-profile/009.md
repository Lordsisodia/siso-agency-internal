---
name: Build ProfileDisplay Component
status: open
created: 2026-01-18T08:24:04Z
parallel: true
effort: 4 hours
depends_on: [008]
conflicts_with: []
---

# Task: 009 - Build ProfileDisplay Component

## Specification
Create the ProfileDisplay component and its child components for viewing user profile information. This provides a read-only view of profile data with responsive design.

## Acceptance Criteria
- [ ] `ProfileDisplay` component created
- [ ] `ProfileHeader` component (avatar, name, email)
- [ ] `ProfileInfo` component (bio, location, timezone)
- [ ] `SocialLinks` component (social media links)
- [ ] `TokenBalance` component (SISO tokens)
- [ ] Loading skeleton implemented
- [ ] Error boundary implemented
- [ ] Empty state handled
- [ ] Responsive design (mobile/tablet/desktop)
- [ ] Edit button (if editable)

## Files
- `src/domains/user/profile/1-display/ui/components/ProfileHeader.tsx` (new)
- `src/domains/user/profile/1-display/ui/components/ProfileInfo.tsx` (new)
- `src/domains/user/profile/1-display/ui/components/SocialLinks.tsx` (new)
- `src/domains/user/profile/1-display/ui/components/TokenBalance.tsx` (new)
- `src/domains/user/profile/1-display/ui/components/ProfileDisplay.tsx` (new)
- `src/domains/user/profile/1-display/ui/pages/ProfileDisplayPage.tsx` (new)
- `src/domains/user/profile/1-display/index.ts` (new)

## Technical Approach

### Step 1: Create ProfileHeader Component
```typescript
// src/domains/user/profile/1-display/ui/components/ProfileHeader.tsx
import { Avatar } from '@radix-ui/react-avatar'
import { Button } from '@/components/ui/button'
import { User } from 'lucide-react'
import type { Profile } from '../../_shared/types'

interface ProfileHeaderProps {
  profile: Profile
  editable?: boolean
  onEdit?: () => void
}

export function ProfileHeader({ profile, editable, onEdit }: ProfileHeaderProps) {
  return (
    <div className="flex items-start justify-between mb-6">
      <div className="flex items-center gap-4">
        <Avatar className="w-20 h-20">
          {profile.avatar_url ? (
            <Avatar.Image src={profile.avatar_url} alt={profile.name || 'Avatar'} />
          ) : (
            <Avatar.Fallback>
              <User className="w-12 h-12" />
            </Avatar.Fallback>
          )}
        </Avatar>

        <div>
          <h1 className="text-2xl font-bold">
            {profile.name || 'Anonymous User'}
          </h1>
          <p className="text-muted-foreground">
            {profile.id}
          </p>
        </div>
      </div>

      {editable && onEdit && (
        <Button onClick={onEdit} variant="outline">
          Edit Profile
        </Button>
      )}
    </div>
  )
}
```

### Step 2: Create ProfileInfo Component
```typescript
// src/domains/user/profile/1-display/ui/components/ProfileInfo.tsx
import { MapPin, Clock } from 'lucide-react'
import type { Profile } from '../../_shared/types'

interface ProfileInfoProps {
  profile: Profile
}

export function ProfileInfo({ profile }: ProfileInfoProps) {
  return (
    <div className="space-y-4">
      {profile.bio && (
        <div>
          <h2 className="text-sm font-medium text-muted-foreground mb-1">Bio</h2>
          <p className="text-base">{profile.bio}</p>
        </div>
      )}

      <div className="flex gap-6">
        {profile.location && (
          <div className="flex items-center gap-2">
            <MapPin className="w-4 h-4 text-muted-foreground" />
            <span>{profile.location}</span>
          </div>
        )}

        {profile.timezone && (
          <div className="flex items-center gap-2">
            <Clock className="w-4 h-4 text-muted-foreground" />
            <span>{profile.timezone}</span>
          </div>
        )}
      </div>
    </div>
  )
}
```

### Step 3: Create SocialLinks Component
```typescript
// src/domains/user/profile/1-display/ui/components/SocialLinks.tsx
import { Twitter, Linkedin, Youtube, Instagram } from 'lucide-react'
import { Button } from '@/components/ui/button'
import type { Profile } from '../../_shared/types'

interface SocialLinksProps {
  profile: Profile
}

export function SocialLinks({ profile }: SocialLinksProps) {
  const links = [
    {
      url: profile.twitter_url,
      icon: Twitter,
      label: 'Twitter',
      color: 'text-blue-400'
    },
    {
      url: profile.linkedin_url,
      icon: Linkedin,
      label: 'LinkedIn',
      color: 'text-blue-600'
    },
    {
      url: profile.youtube_url,
      icon: Youtube,
      label: 'YouTube',
      color: 'text-red-600'
    },
    {
      url: profile.instagram_url,
      icon: Instagram,
      label: 'Instagram',
      color: 'text-pink-600'
    }
  ].filter(link => link.url)

  if (links.length === 0) {
    return null
  }

  return (
    <div>
      <h2 className="text-sm font-medium text-muted-foreground mb-2">Social Links</h2>
      <div className="flex gap-2">
        {links.map((link) => {
          const Icon = link.icon
          return (
            <Button
              key={link.label}
              variant="ghost"
              size="icon"
              asChild
            >
              <a
                href={link.url!}
                target="_blank"
                rel="noopener noreferrer"
                aria-label={link.label}
              >
                <Icon className={`w-5 h-5 ${link.color}`} />
              </a>
            </Button>
          )
        })}
      </div>
    </div>
  )
}
```

### Step 4: Create TokenBalance Component
```typescript
// src/domains/user/profile/1-display/ui/components/TokenBalance.tsx
import { Coins } from 'lucide-react'
import { Card } from '@/components/ui/card'

interface TokenBalanceProps {
  balance: number
}

export function TokenBalance({ balance }: TokenBalanceProps) {
  return (
    <Card className="p-4 bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200">
      <div className="flex items-center gap-3">
        <Coins className="w-8 h-8 text-yellow-600" />
        <div>
          <p className="text-sm text-muted-foreground">SISO Tokens</p>
          <p className="text-2xl font-bold text-yellow-900">
            {balance.toLocaleString()}
          </p>
        </div>
      </div>
    </Card>
  )
}
```

### Step 5: Create Main ProfileDisplay Component
```typescript
// src/domains/user/profile/1-display/ui/components/ProfileDisplay.tsx
import { Skeleton } from '@/components/ui/skeleton'
import { useUserProfile } from '../../_shared/hooks'
import { ProfileHeader } from './ProfileHeader'
import { ProfileInfo } from './ProfileInfo'
import { SocialLinks } from './SocialLinks'
import { TokenBalance } from './TokenBalance'

interface ProfileDisplayProps {
  userId?: string
  editable?: boolean
  onEdit?: () => void
}

export function ProfileDisplay({ userId, editable, onEdit }: ProfileDisplayProps) {
  const { data: profile, isLoading, error } = useUserProfile(userId)

  if (isLoading) {
    return <ProfileDisplaySkeleton />
  }

  if (error) {
    return (
      <div className="p-4 border border-red-200 bg-red-50 rounded-lg">
        <p className="text-red-800">Failed to load profile. Please try again.</p>
      </div>
    )
  }

  if (!profile) {
    return (
      <div className="text-center py-8">
        <p className="text-muted-foreground">No profile found.</p>
      </div>
    )
  }

  return (
    <div className="space-y-6">
      <ProfileHeader
        profile={profile}
        editable={editable}
        onEdit={onEdit}
      />

      <TokenBalance balance={profile.sisos_tokens} />

      <ProfileInfo profile={profile} />

      <SocialLinks profile={profile} />

      <div className="text-xs text-muted-foreground">
        <p>Joined: {new Date(profile.created_at).toLocaleDateString()}</p>
        <p>Last updated: {new Date(profile.updated_at).toLocaleDateString()}</p>
      </div>
    </div>
  )
}

function ProfileDisplaySkeleton() {
  return (
    <div className="space-y-6">
      <div className="flex items-start gap-4">
        <Skeleton className="w-20 h-20 rounded-full" />
        <div className="space-y-2">
          <Skeleton className="h-6 w-48" />
          <Skeleton className="h-4 w-32" />
        </div>
      </div>
      <Skeleton className="h-20 w-full" />
      <Skeleton className="h-16 w-full" />
    </div>
  )
}
```

### Step 6: Create Page Component
```typescript
// src/domains/user/profile/1-display/ui/pages/ProfileDisplayPage.tsx
import { useNavigate } from 'react-router-dom'
import { ProfileDisplay } from '../components/ProfileDisplay'
import { useUserProfileOrCreate } from '../../_shared/hooks'

export function ProfileDisplayPage() {
  const navigate = useNavigate()

  // Get current user from auth
  const { data: { user } } = useAuth()
  const { data: profile, isLoading } = useUserProfileOrCreate(user?.id || '')

  const handleEdit = () => {
    navigate('/profile/edit')
  }

  return (
    <div className="container max-w-2xl py-8">
      <h1 className="text-3xl font-bold mb-6">My Profile</h1>

      {isLoading ? (
        <p>Loading...</p>
      ) : profile ? (
        <ProfileDisplay
          userId={user?.id}
          editable={true}
          onEdit={handleEdit}
        />
      ) : null}
    </div>
  )
}
```

### Step 7: Create Index File
```typescript
// src/domains/user/profile/1-display/index.ts
export * from './ui/components/ProfileDisplay'
export * from './ui/pages/ProfileDisplayPage'
```

## Dependencies
- Task 008 (Custom hooks must be created)

## Conflicts
None

## Testing
```bash
# Test ProfileDisplay component
npm run test -- ProfileDisplay

# Test all child components
npm run test -- ProfileHeader
npm run test -- ProfileInfo
npm.run test -- SocialLinks
npm run test -- TokenBalance
```

## Verification
- [ ] ProfileHeader displays avatar and name
- [ ] ProfileInfo shows bio, location, timezone
- [ ] SocialLinks renders active social links
- [ ] TokenBalance displays token count
- [ ] Loading skeleton shows during fetch
- [ ] Error state displays properly
- [ ] Empty state handles missing profile
- [ ] Edit button appears when editable
- [ ] Responsive on mobile/tablet/desktop
- [ ] All components exported correctly

## Responsive Design
- Mobile: Stack vertically, full width
- Tablet: 2 columns for social links
- Desktop: Centered container, max-width 2xl

## Accessibility
- Alt text for avatar
- ARIA labels for social links
- Keyboard navigation
- Semantic HTML
- Focus indicators
